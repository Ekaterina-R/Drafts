<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="../css/style.css">
  <title>Пример 17 - Дерево списков</title>
</head>

<body>

  <script>
    //создание вложенного списка из объекта
    let data = {
      "Овощи": {
        "огурцы": 5,
        "помидоры": 3
      },
      "Фрукты": {
        "красные": {
          "клубника": 2,
          "малина": 4
        },
        "зеленые": {
          "яблоко": 6,
          "лайм": 2
        }
      }
    }
    //функция для создания списка
    function createUl(obj){
      if(!Object.keys(obj).length)
      return
      let ul = document.createElement('ul')
      for(let key in obj){
        let li = document.createElement('li')
        //проверка на значение ключа в виде числа
        if(!isNaN(obj[key]))
        li.textContent = key + obj[key]
        else
        li.textContent = key
        //createUl -рекурсивная функция, вызывается внутри себя
        let childrenUl = createUl(obj[key])
        if (childrenUl){
          li.append(childrenUl)
        }
        ul.append(li)
      }
      return ul
    }
    //вывод результата
    function createTree(container, obj){
      document.querySelector(container).append(createUl(obj))
    }
    //вызов функции, вместо контейнера любой css-селектор
    createTree('body', data)

  </script>
</body>
</html>